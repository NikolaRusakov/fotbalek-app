<ion-card *mappLet="user">
  <ion-card-header>
    <!--    <ion-card-subtitle>{{user.role}}</ion-card-subtitle>-->
    <ion-card-title>{{ user?.displayName }}</ion-card-title>

    <ng-container *ngIf="user">
      <ng-container
        *ngTemplateOutlet="header; context: { user: user }"
      ></ng-container
    ></ng-container>
  </ion-card-header>

  <ng-container *ngIf="user"
    ><ng-container
      *ngTemplateOutlet="details; context: { user: user }"
    ></ng-container
  ></ng-container>
</ion-card>

<ng-template #header let-user="user">
  <ion-item>
    <ion-avatar slot="start">
      <ion-img [src]="user?.photoURL"></ion-img>
    </ion-avatar>
    <ion-label>{{ user?.email }}</ion-label>
  </ion-item>
</ng-template>

<ng-template #details let-user="user">
  <ion-card-content *ngIf="user">
    <ion-item-group>
      <ion-item-divider>
        <ion-label>Details</ion-label>
      </ion-item-divider>

      <ion-item *ngIf="user.phoneNumber">
        <ion-label>Phone Number</ion-label>
        <ion-text color="secondary">
          <h1>{{ user.phoneNumber }}</h1>
        </ion-text>
      </ion-item>

      <ion-item>
        <ion-label>ID Provider</ion-label>
        <ion-text color="secondary">
          <h1>{{ user?.providerId }}</h1>
        </ion-text>
      </ion-item>
    </ion-item-group>
  </ion-card-content>
</ng-template>
